<!DOCTYPE html><html lang="zh-cn"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="renderer" content="webkit"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><title>如何用rxjs做状态管理 - Chicken Man</title><meta name="description" content="当rxjs遇上react"/><meta name="og:title" content="如何用rxjs做状态管理 - Chicken Man"/><meta name="og:description" content="当rxjs遇上react"/><meta name="og:image" content="/favicon.ico"/><meta name="docsearch:tags" content="rxjs,react,web前端"/><meta name="next-head-count" content="11"/><link rel="stylesheet" href="//unpkg.com/@primer/css@20.4.2/dist/markdown.css"/><link rel="stylesheet" href="//unpkg.com/nprogress@0.2.0/nprogress.css"/><link rel="preload" href="/_next/static/css/9c78843cfdd0bbe8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9c78843cfdd0bbe8.css" data-n-g=""/><link rel="preload" href="/_next/static/css/9172c27af8c24be7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9172c27af8c24be7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="//unpkg.com/react@18.2.0/umd/react.production.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/rxjs@7.5.7/dist/bundles/rxjs.umd.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/immutable@4.1.0/dist/immutable.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/react-transition-group@4.4.5/dist/react-transition-group.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/moment@2.29.4/min/moment.min.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/moment@2.29.4/locale/zh-cn.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/nprogress@0.2.0/nprogress.js" defer="" data-nscript="beforeInteractive"></script><script src="//unpkg.com/algoliasearch@4.17.0/dist/algoliasearch.umd.js" defer="" data-nscript="beforeInteractive"></script><script src="/_next/static/chunks/webpack-d7cf4c28af3aac4f.js" defer=""></script><script src="/_next/static/chunks/framework-477235ca0e317f29.js" defer=""></script><script src="/_next/static/chunks/main-14e88bb39ac8bbca.js" defer=""></script><script src="/_next/static/chunks/pages/_app-428d289f0eeed35d.js" defer=""></script><script src="/_next/static/chunks/9894-82281c70dc11a0f7.js" defer=""></script><script src="/_next/static/chunks/2128-a65392031df0ed75.js" defer=""></script><script src="/_next/static/chunks/3554-ba023821f799e056.js" defer=""></script><script src="/_next/static/chunks/5685-8b0003e76e6203ea.js" defer=""></script><script src="/_next/static/chunks/pages/article/rxjs/store-2bb57bda6cb9b9d3.js" defer=""></script><script src="/_next/static/Et3Eh7KhzAnAHs04rI1Yw/_buildManifest.js" defer=""></script><script src="/_next/static/Et3Eh7KhzAnAHs04rI1Yw/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section><header class="styles_header___Ivmm"><nav><div class="styles_nav-list__UoHzq"><a href="/">首页</a><a href="/tag">我的笔记</a><a href="/use-modal-service" target="_blank" title="更简单的使用antd modal">useModalService</a><a href="/bello" target="_blank" title="基于antd的表单差异对比组件">bello</a><a href="/about">关于我们</a></div></nav><label class="search_search-box__K2yMn"><input placeholder="搜索..." class="ant-input css-1wazalj" type="text" value=""/></label></header><main class="styles_main__TpZ7Y styles_article-main__Y0Jle"><article class="sc-65c4189e-1 QBdmI"><h1 class="article-title">如何用rxjs做状态管理</h1><p><span>更新时间：<!-- -->2023-02-22 15:57:53</span><span><span>标签：</span><a href="/list/rxjs"><span class="ant-tag css-1wazalj">rxjs</span></a><a href="/list/react"><span class="ant-tag css-1wazalj">react</span></a><a href="/list/web%E5%89%8D%E7%AB%AF"><span class="ant-tag css-1wazalj">web前端</span></a></span></p><div class="sc-65c4189e-0 bWLCPr markdown-body"><h1 class="sc-30bed449-0 haWXgw" id="什么是状态管理">什么是状态管理<a href="#什么是状态管理"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h1>
<p>状态管理，我们一般都称之为Store，他有点像一个始终存在并且可以让每个人都可以读取和写入的存储空间</p>
<h2 class="sc-30bed449-0 haWXgw" id="如何用rxjs实现一个状态管理">如何用Rxjs实现一个状态管理<a href="#如何用rxjs实现一个状态管理"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<h3 class="sc-30bed449-0 haWXgw" id="核心代码">核心代码<a href="#核心代码"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<details open=""><summary>core.ts</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BehaviorSubject</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> catchError</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> distinctUntilChanged</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> map</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> skip</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> tap</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> throwError </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">OperatorFunction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">MonoTypeOperatorFunction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Store</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name constant" style="color:#36acaa">T</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> behavior$</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">BehaviorSubject</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> change$</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> state$</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">behavior$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">MonoTypeOperatorFunction</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">defaultState</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> behavior$ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">behavior$</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BehaviorSubject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">defaultState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state$</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> behavior$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">asObservable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">change$</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token function" style="color:#d73a49">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token function" style="color:#d73a49">distinctUntilChanged</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">map</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">I</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function-variable function" style="color:#d73a49">fn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">OperatorFunction</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">I</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">26</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">27</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">28</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">29</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">always</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">I</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function-variable function" style="color:#d73a49">fn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">OperatorFunction</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">I</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">30</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> source </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">31</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">32</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token function" style="color:#d73a49">catchError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">33</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">34</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">throwError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">35</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">36</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">37</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">38</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">capture</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">I</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fn</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">OperatorFunction</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">I</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">I</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">39</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">catchError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> caught</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">40</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">41</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        fn </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">42</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">43</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// eslint-disable-next-line no-console</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">44</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">45</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">46</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> caught</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">47</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">48</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">49</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">50</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">behavior$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">51</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">52</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">53</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">54</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">behavior$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">complete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">55</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">56</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">57</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">58</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> createStore </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">T</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">(defaultState: T) =&gt; </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">59</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Store</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">defaultState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">60</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span></span></div></pre></div></details>
<h3 class="sc-30bed449-0 haWXgw" id="react-hooks">React Hooks<a href="#react-hooks"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<details open=""><summary>hook.ts</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Store</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> createStore </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./core&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useEffect</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useMemo</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useRef</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> useStore </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">T</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">(defaultState: () =&gt; T): [T, Store&lt;T&gt;] =&gt; </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// eslint-disable-next-line react-hooks/exhaustive-deps</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> storeRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">useMemo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">defaultState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setState</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">defaultState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> instance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> storeRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> instance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">change$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      instance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      subscription</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">unsubscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> storeRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">export const useGetter = </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">T</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">(store: Store&lt;T&gt;) =&gt; </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setState</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">26</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">change$</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">27</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> subscription</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">unsubscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">28</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">29</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">30</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">;</span></span></div></pre></div></details>
<details open=""><summary>hooks/observable.ts</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Observable</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Subject</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Subscription</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">DependencyList</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useEffect</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> useSubject </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">O</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">unknown</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function-variable function" style="color:#d73a49">factory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subject</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">O</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> deps</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">DependencyList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setAction</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useState</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">Subject</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> subscription</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subscription</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      subscription </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">factory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> subscription</span><span class="token operator" style="color:#393A34">?.</span><span class="token method function property-access" style="color:#d73a49">unsubscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// eslint-disable-next-line react-hooks/exhaustive-deps</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subject </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Subject</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name constant" style="color:#36acaa">T</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setAction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> subject</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">complete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// eslint-disable-next-line react-hooks/exhaustive-deps</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> deps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></span></div></pre></div></details>
<h4 id="eslint配置">eslint配置</h4>
<div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-json" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;react-hooks/exhaustive-deps&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;warn&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;additionalHooks&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;(useSubject)&quot;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></div></pre></div>
<h2 class="sc-30bed449-0 haWXgw" id="实战例子">实战例子<a href="#实战例子"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h2>
<h3 class="sc-30bed449-0 haWXgw" id="1-简单计数器">1. 简单计数器<a href="#1-简单计数器"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p><code>这是一个简单的计数器，增加或减少</code></p>
<div class="sc-ce4da4fc-0 ejEnsT"><button>增加</button><button>减少</button><span>count: <!-- -->1</span></div>
<details><summary>代码</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">styled</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;styled-components&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useStore </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/stores&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useSubject </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/hooks/observable&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Wrapper</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> styled</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">div</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css property" style="color:#36acaa">margin-bottom</span><span class="token template-string css language-css punctuation" style="color:#393A34">:</span><span class="token template-string css language-css"> </span><span class="token template-string css language-css number" style="color:#36acaa">20</span><span class="token template-string css language-css unit">px</span><span class="token template-string css language-css punctuation" style="color:#393A34">;</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css selector" style="color:#00009f">&amp; </span><span class="token template-string css language-css selector combinator" style="color:#00009f">&gt;</span><span class="token template-string css language-css selector" style="color:#00009f"> *</span><span class="token template-string css language-css selector pseudo-class" style="color:#00009f">:not</span><span class="token template-string css language-css selector punctuation" style="color:#393A34">(</span><span class="token template-string css language-css selector pseudo-class" style="color:#00009f">:first-child</span><span class="token template-string css language-css selector punctuation" style="color:#393A34">)</span><span class="token template-string css language-css punctuation" style="color:#393A34">{</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">    </span><span class="token template-string css language-css property" style="color:#36acaa">margin-left</span><span class="token template-string css language-css punctuation" style="color:#393A34">:</span><span class="token template-string css language-css"> </span><span class="token template-string css language-css number" style="color:#36acaa">10</span><span class="token template-string css language-css unit">px</span><span class="token template-string css language-css punctuation" style="color:#393A34">;</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css punctuation" style="color:#393A34">}</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">CountExample</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">FC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> increase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useSubject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reduce </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useSubject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Wrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">26</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> increase</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">增加</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">27</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> reduce</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">减少</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">28</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">count: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> state </span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">29</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Wrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">30</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">31</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></span></div></pre></div></details>
<h3 class="sc-30bed449-0 haWXgw" id="2-防抖">2. 防抖<a href="#2-防抖"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<p><code>防抖是前端经常需要用到的技术点，例如搜索框，用户在快速输入文字时，保证不会频繁的调用接口</code></p>
<div class="sc-192689c5-0 gmhBtS"><input type="text" placeholder="请输入关键字"/><span>value: </span></div>
<details><summary>代码</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FC</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">styled</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;styled-components&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> createStore</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useGetter </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/stores&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> debounce</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> delay</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports keyword" style="color:#00009f">of</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> switchMap</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> timer </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useSubject </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/hooks/observable&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Wrapper</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> styled</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">div</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css property" style="color:#36acaa">margin-bottom</span><span class="token template-string css language-css punctuation" style="color:#393A34">:</span><span class="token template-string css language-css"> </span><span class="token template-string css language-css number" style="color:#36acaa">20</span><span class="token template-string css language-css unit">px</span><span class="token template-string css language-css punctuation" style="color:#393A34">;</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css selector" style="color:#00009f">&amp; </span><span class="token template-string css language-css selector combinator" style="color:#00009f">&gt;</span><span class="token template-string css language-css selector" style="color:#00009f"> *</span><span class="token template-string css language-css selector pseudo-class" style="color:#00009f">:not</span><span class="token template-string css language-css selector punctuation" style="color:#393A34">(</span><span class="token template-string css language-css selector pseudo-class" style="color:#00009f">:first-child</span><span class="token template-string css language-css selector punctuation" style="color:#393A34">)</span><span class="token template-string css language-css punctuation" style="color:#393A34">{</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">    </span><span class="token template-string css language-css property" style="color:#36acaa">margin-left</span><span class="token template-string css language-css punctuation" style="color:#393A34">:</span><span class="token template-string css language-css"> </span><span class="token template-string css language-css number" style="color:#36acaa">10</span><span class="token template-string css language-css unit">px</span><span class="token template-string css language-css punctuation" style="color:#393A34">;</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css">  </span><span class="token template-string css language-css punctuation" style="color:#393A34">}</span><span class="token template-string css language-css"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token template-string css language-css"></span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 也可以在组件外创建，这样就可以全局共享状态数据了</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">DebounceExample</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">FC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGetter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> action </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useSubject</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token function" style="color:#d73a49">debounce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">timer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 500毫秒内的按键，只有最后一次会被触发</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token function" style="color:#d73a49">switchMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">delay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 模拟接口返回延迟，随机 0ms - 1000ms</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">26</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">27</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Wrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">28</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">placeholder</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript string" style="color:#e3116c">&#x27;请输入关键字&#x27;</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onChange</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">e </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> action</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript" style="color:#00009f">e</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">target</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript property-access" style="color:#00009f">value</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">29</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">value: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">30</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Wrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">31</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">32</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></span></div></pre></div></details>
<h3 class="sc-30bed449-0 haWXgw" id="3-稍微复杂点的例子">3. 稍微复杂点的例子<a href="#3-稍微复杂点的例子"><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" fill="currentColor" class="anchor"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a></h3>
<div><p><button><span>刷新</span></button><button style="margin-left:10px">取消请求</button></p><p><button>上一页</button><span>1</span><button>下一页</button></p><table><thead><tr><th>name</th><th>gender</th><th>email</th><th>cell</th><th>phone</th></tr></thead><tbody></tbody></table></div>
<details><summary>代码</summary><div class="sc-871efcea-0 jzhkOl"><pre class="sc-9e1f24c-0 bFyNcM prism-code language-tsx" style="color:#393A34;background-color:#f6f8fa"><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">1</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FC</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useEffect</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useMemo </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">2</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token known-class-name class-name">Map</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;immutable&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">3</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> fromFetch </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs/fetch&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">4</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> concatMap</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports keyword" style="color:#00009f">of</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> switchMap </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rxjs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">5</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useStore </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/stores&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">6</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useSubject </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@shared/hooks/observable&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">7</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">8</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">ListExample</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">FC</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">9</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">10</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">11</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    loading</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">12</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    error</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">13</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    page</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">14</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    list</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">15</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">16</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">17</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useMemo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;list&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">18</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useMemo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">19</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">20</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> getList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useSubject</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">string</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name operator" style="color:#393A34">|</span><span class="token generic-function generic class-name"> </span><span class="token generic-function generic class-name keyword" style="color:#00009f">void</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">21</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token function" style="color:#d73a49">switchMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">22</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cancel&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">23</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">24</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">25</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">26</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">withMutations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">27</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;loading&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">28</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">29</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">30</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token function" style="color:#d73a49">concatMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fromFetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">https://randomuser.me/api?page=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">page</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&amp;results=10&amp;inc=id,name,email,phone,cell,gender</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">31</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          </span><span class="token function" style="color:#d73a49">switchMap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">32</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;list&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">results</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">33</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">34</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">35</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">36</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">always</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;loading&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">37</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">capture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">38</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">39</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> previousPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useSubject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">40</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">41</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">42</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nextPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useSubject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">43</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">44</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">45</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">46</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">47</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    getList</span><span class="token operator" style="color:#393A34">?.</span><span class="token method function property-access" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">48</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">getList</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">49</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">50</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">51</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">52</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">53</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> getList</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">54</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">55</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">56</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">              data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;loading&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;刷新中...&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;刷新&#x27;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">57</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">58</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">59</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">60</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> marginLeft</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">10</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> getList</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript string" style="color:#e3116c">&#x27;cancel&#x27;</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">取消请求</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">61</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">62</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">63</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> previousPage</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">上一页</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">64</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">65</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> nextPage</span><span class="token tag script language-javascript operator" style="color:#393A34">?.</span><span class="token tag script language-javascript method function property-access" style="color:#d73a49">next</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">下一页</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">66</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">67</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">68</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;error&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">69</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> color</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript string" style="color:#e3116c">&#x27;red&#x27;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">出错了，点击刷新按钮重新加载</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">70</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">71</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">72</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">73</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">thead</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">74</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">75</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">name</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">76</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">gender</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">77</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">email</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">78</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">cell</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">79</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">phone</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">th</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">80</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">81</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">thead</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">82</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tbody</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">83</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">84</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">            list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">85</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">              </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">k</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">86</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text">. </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">first</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">last</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">87</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">gender</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">88</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">email</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">89</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">cell</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">90</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">phone</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">td</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">91</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">              </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tr</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">92</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">93</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">94</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tbody</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">95</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">table</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">96</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">97</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">98</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">99</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain" style="display:inline-block">
</span></span></div><div class="sc-9e1f24c-1 ducWqU token-line" style="color:#393A34"><span class="sc-9e1f24c-2 cckslz">100</span><span class="sc-9e1f24c-3 kQYsNu"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> </span><span class="token exports maybe-class-name">ListExample</span><span class="token exports"> </span><span class="token exports punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span></span></div></pre></div></details></div></article></main></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"如何用rxjs做状态管理","description":"当rxjs遇上react","tag":["rxjs","react","web前端"],"updated":"2023-02-22T07:57:53.000Z"}},"__N_SSG":true},"page":"/article/rxjs/store","query":{},"buildId":"Et3Eh7KhzAnAHs04rI1Yw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>